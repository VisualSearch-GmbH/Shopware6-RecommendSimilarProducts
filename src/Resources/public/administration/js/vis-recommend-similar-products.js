(this.webpackJsonp=this.webpackJsonp||[]).push([["vis-recommend-similar-products"],{"9/SL":function(e,t,i){var n=i("h56c");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i("SZ7m").default)("7b441ec5",n,!0,{})},CkOj:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("lSNA"),s=i.n(n),a=i("lO2t"),r=i("lYO9");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e){var t=function(e){var t;if(a.a.isString(e))try{t=JSON.parse(e)}catch(e){return!1}else{if(!a.a.isObject(e)||a.a.isArray(e))return!1;t=e}return t}(e);if(!t)return null;if(!0===t.parsed||!function(e){return void 0!==e.data||void 0!==e.errors||void 0!==e.links||void 0!==e.meta}(t))return t;var i=function(e){var t={links:null,errors:null,data:null,associations:null,aggregations:null};if(e.errors)return t.errors=e.errors,t;var i=function(e){var t=new Map;if(!e||!e.length)return t;return e.forEach((function(e){var i="".concat(e.type,"-").concat(e.id);t.set(i,e)})),t}(e.included);if(a.a.isArray(e.data))t.data=e.data.map((function(e){var n=u(e,i);return Object(r.g)(n,"associationLinks")&&(t.associations=c(c({},t.associations),n.associationLinks),delete n.associationLinks),n}));else if(a.a.isObject(e.data)){var n=u(e.data,i);Object.prototype.hasOwnProperty.call(n,"associationLinks")&&(t.associations=c(c({},t.associations),n.associationLinks),delete n.associationLinks),t.data=n}else t.data=null;e.meta&&Object.keys(e.meta).length&&(t.meta=d(e.meta));e.links&&Object.keys(e.links).length&&(t.links=e.links);e.aggregations&&Object.keys(e.aggregations).length&&(t.aggregations=e.aggregations);return t}(t);return i.parsed=!0,i}function u(e,t){var i={id:e.id,type:e.type,links:e.links||{},meta:e.meta||{}};if(e.attributes&&Object.keys(e.attributes).length>0){var n=d(e.attributes);i=c(c({},i),n)}if(e.relationships){var s=function(e,t){var i={},n={};return Object.keys(e).forEach((function(s){var r=e[s];if(r.links&&Object.keys(r.links).length&&(n[s]=r.links.related),r.data){var o=r.data;a.a.isArray(o)?i[s]=o.map((function(e){return p(e,t)})):a.a.isObject(o)?i[s]=p(o,t):i[s]=null}})),{mappedRelations:i,associationLinks:n}}(e.relationships,t);i=c(c(c({},i),s.mappedRelations),{associationLinks:s.associationLinks})}return i}function d(e){var t={};return Object.keys(e).forEach((function(i){var n=e[i],s=i.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}));t[s]=n})),t}function p(e,t){var i="".concat(e.type,"-").concat(e.id);return t.has(i)?u(t.get(i),t):e}},E50F:function(e,t){e.exports='<div>\n    <sw-button-process\n        :isLoading="isLoading"\n        @click="check"\n    >{{ $tc(\'vis-verify-api-key.apiButton\') }}</sw-button-process>\n</div>\n'},EIxa:function(e,t,i){},"JPr/":function(e){e.exports=JSON.parse('{"vis-get-credentials":{"title":"Please click here to get your API credentials"},"vis-verify-api-key":{"success":"Connection was successfully established.","error":"Connection could not be established. Please check your API credentials.","apiButton":"Validate API credentials"},"vis-support":{"documentation":"Documentation","api_documentation":"API Documentation","read_docs":"Read our documentation for more information about VisualSearch and how to get started","manual":"Manual","changelog":"Changelog","faq":"FAQ","for_developers":"For developers","account":"Account","e-mail":"E-mail","telephone":"Telephone","contact":"Contact","visualsearch_assistance_integration_team":"Need assistance? Feel free to contact our integration team:"},"vis-log":{"title":"VisualSearch Logging","backButton":"Back","message":"Message","created":"Date","tabs":{"visLogTab":"Updates","soldPerDayTab":"Orders","soldFromVisualSearch":"VisualSearch sold products","clickedFromVisualSearch":"VisualSearch clicked products","soldClickedFromVisualSearch":"Clicks"},"orderColumns":{"getVisualSearchStatistic":"Update statistics"},"visClickedPerDayColumns":{"productName":"Product name","numberClicks":"Number clicks","date":"Date"},"visSoldPerDayColumns":{"productName":"Product name","customerName":"Customer name","date":"Date"},"visSoldClickedPerDayColumns":{"numberClicks":"Number clicks","numberSold":"Number sold","date":"Date","totalSold":"Total sold","getVisualSearchStatistic":"Update statistics"}}}')},SwLI:function(e,t,i){"use strict";i.r(t);var n=i("lwsE"),s=i.n(n),a=i("W8MJ"),r=i.n(a),o=i("CkOj"),c=function(){function e(t,i,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/vnd.api+json";s()(this,e),this.httpClient=t,this.loginService=i,this.apiEndpoint=n,this.contentType=a}return r()(e,[{key:"getList",value:function(t){var i=t.page,n=void 0===i?1:i,s=t.limit,a=void 0===s?25:s,r=t.sortBy,o=t.sortDirection,c=void 0===o?"asc":o,l=t.sortings,u=t.queries,d=t.term,p=t.criteria,h=t.aggregations,g=t.associations,m=t.headers,v=t.versionId,f=t.ids,y=t["total-count-mode"],k=void 0===y?0:y;this.showDeprecationWarning("getList");var b=this.getBasicHeaders(m),S={page:n,limit:a};return l?S.sort=l:r&&r.length&&(S.sort=("asc"===c.toLowerCase()?"":"-")+r),f&&(S.ids=f.join("|")),d&&(S.term=d),p&&(S.filter=[p.getQuery()]),h&&(S.aggregations=h),g&&(S.associations=g),v&&(b=Object.assign(b,e.getVersionHeader(v))),u&&(S.query=u),k&&(S["total-count-mode"]=k),S.term&&S.term.length||S.filter&&S.filter.length||S.aggregations||S.sort||S.queries||S.associations?this.httpClient.post("".concat(this.getApiBasePath(null,"search")),S,{headers:b}).then((function(t){return e.handleResponse(t)})):this.httpClient.get(this.getApiBasePath(),{params:S,headers:b}).then((function(t){return e.handleResponse(t)}))}},{key:"getById",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.showDeprecationWarning("getById"),!t)return Promise.reject(new Error("Missing required argument: id"));var s=i,a=this.getBasicHeaders(n);return this.httpClient.get(this.getApiBasePath(t),{params:s,headers:a}).then((function(t){return e.handleResponse(t)}))}},{key:"updateById",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(this.showDeprecationWarning("updateById"),!t)return Promise.reject(new Error("Missing required argument: id"));var a=n,r=this.getBasicHeaders(s);return this.httpClient.patch(this.getApiBasePath(t),i,{params:a,headers:r}).then((function(t){return e.handleResponse(t)}))}},{key:"deleteAssociation",value:function(e,t,i,n){if(this.showDeprecationWarning("deleteAssociation"),!e||!i||!i)return Promise.reject(new Error("Missing required arguments."));var s=this.getBasicHeaders(n);return this.httpClient.delete("".concat(this.getApiBasePath(e),"/").concat(t,"/").concat(i),{headers:s}).then((function(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(e)}))}},{key:"create",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.showDeprecationWarning("create");var s=i,a=this.getBasicHeaders(n);return this.httpClient.post(this.getApiBasePath(),t,{params:s,headers:a}).then((function(t){return e.handleResponse(t)}))}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.showDeprecationWarning("delete"),!e)return Promise.reject(new Error("Missing required argument: id"));var n=Object.assign({},t),s=this.getBasicHeaders(i);return this.httpClient.delete(this.getApiBasePath(e),{params:n,headers:s})}},{key:"clone",value:function(t){return this.showDeprecationWarning("clone"),t?this.httpClient.post("/_action/clone/".concat(this.apiEndpoint,"/").concat(t),null,{headers:this.getBasicHeaders()}).then((function(t){return e.handleResponse(t)})):Promise.reject(new Error("Missing required argument: id"))}},{key:"versionize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.showDeprecationWarning("versionize");var n="/_action/version/".concat(this.apiEndpoint,"/").concat(e),s=Object.assign({},t),a=this.getBasicHeaders(i);return this.httpClient.post(n,{},{params:s,headers:a})}},{key:"mergeVersion",value:function(t,i,n,s){if(this.showDeprecationWarning("mergeVersion"),!t)return Promise.reject(new Error("Missing required argument: id"));if(!i)return Promise.reject(new Error("Missing required argument: versionId"));var a=Object.assign({},n),r=Object.assign(e.getVersionHeader(i),this.getBasicHeaders(s)),o="_action/version/merge/".concat(this.apiEndpoint,"/").concat(i);return this.httpClient.post(o,{},{params:a,headers:r})}},{key:"getApiBasePath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="";return t&&t.length&&(i+="".concat(t,"/")),e&&e.length>0?"".concat(i).concat(this.apiEndpoint,"/").concat(e):"".concat(i).concat(this.apiEndpoint)}},{key:"getBasicHeaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={Accept:this.contentType,Authorization:"Bearer ".concat(this.loginService.getToken()),"Content-Type":"application/json"};return Object.assign({},t,e)}},{key:"showDeprecationWarning",value:function(e){Shopware.Utils.debug.warn("".concat(this.apiEndpoint," - Api Service"),"The ".concat(e," function is deprecated. Please use the 'repository.data.js' class for data handling of entities."))}},{key:"getApiVersion",value:function(){return Shopware.Context.api.apiVersion-1}},{key:"apiEndpoint",get:function(){return this.endpoint},set:function(e){this.endpoint=e}},{key:"httpClient",get:function(){return this.client},set:function(e){this.client=e}},{key:"contentType",get:function(){return this.type},set:function(e){this.type=e}}],[{key:"handleResponse",value:function(t){if(null===t.data||void 0===t.data)return t;var i=t.data,n=t.headers;return n&&n["content-type"]&&"application/vnd.api+json"===n["content-type"]&&(i=e.parseJsonApiData(i)),i}},{key:"parseJsonApiData",value:function(e){return Object(o.a)(e)}},{key:"getVersionHeader",value:function(e){return{"sw-version-id":e}}}]),e}();t.default=c},Ts6U:function(e,t){e.exports='{% block sw_settings_content_card_slot_plugins  %}\n    {% parent %}\n\n    <sw-settings-item id="vis-log"\n                      :label="$t(\'vis-log.title\')"\n                      :to="{ name: \'vis.log.index\' }">\n        <template slot="icon">\n            <sw-icon name="default-device-server"></sw-icon>\n        </template>\n    </sw-settings-item>\n\n{% endblock %}\n\n'},fNE8:function(e,t){e.exports='<template>\n    <div id="visualsearch-support">\n        <h2 class="visualsearch-title">{{ $tc("vis-support.documentation") }}</h2>\n        <p>{{ $tc("vis-support.read_docs") }}:</p>\n        <p class="mt-1">{{ $tc("vis-support.for_developers") }}:\n            <a href="https://github.com/VisualSearch-GmbH/Shopware6-RecommendSimilarProducts" target="_blank" rel="noopener">\n                VisualSearch Github\n            </a>\n        </p>\n        <h2 class="mt-2">{{ $tc("vis-support.contact") }}</h2>\n        <p>\n            {{ $tc("vis-support.visualsearch_assistance_integration_team") }}\n        </p>\n        <ul class="visualsearch-ul-none">\n            <li>\n                {{ $tc("vis-support.telephone") }}:\n                <a href="tel:+43 670 6017118">\n                    +43 670 6017118\n                </a>\n            </li>\n            <li>\n                {{ $tc("vis-support.e-mail") }}:\n                <a href="mailto:office@visualsearch.at">\n                    office@visualsearch.at\n                </a>\n            </li>\n        </ul>\n    </div>\n\n</template>\n'},h56c:function(e,t,i){},kRqn:function(e,t,i){var n=i("EIxa");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,i("SZ7m").default)("a7dee90a",n,!0,{})},lO2t:function(e,t,i){"use strict";i.d(t,"b",(function(){return C}));var n=i("GoyQ"),s=i.n(n),a=i("YO3V"),r=i.n(a),o=i("E+oP"),c=i.n(o),l=i("wAXd"),u=i.n(l),d=i("Z0cm"),p=i.n(d),h=i("lSCD"),g=i.n(h),m=i("YiAA"),v=i.n(m),f=i("4qC0"),y=i.n(f),k=i("Znm+"),b=i.n(k),S=i("Y+p1"),w=i.n(S),D=i("UB5X"),P=i.n(D);function C(e){return void 0===e}t.a={isObject:s.a,isPlainObject:r.a,isEmpty:c.a,isRegExp:u.a,isArray:p.a,isFunction:g.a,isDate:v.a,isString:y.a,isBoolean:b.a,isEqual:w.a,isNumber:P.a,isUndefined:C}},lYO9:function(e,t,i){"use strict";i.d(t,"h",(function(){return b})),i.d(t,"i",(function(){return S})),i.d(t,"a",(function(){return w})),i.d(t,"d",(function(){return D})),i.d(t,"k",(function(){return P})),i.d(t,"j",(function(){return C})),i.d(t,"g",(function(){return O})),i.d(t,"b",(function(){return j})),i.d(t,"c",(function(){return A})),i.d(t,"f",(function(){return L})),i.d(t,"e",(function(){return _}));var n=i("lSNA"),s=i.n(n),a=i("QkVN"),r=i.n(a),o=i("JBE3"),c=i.n(o),l=i("BkRI"),u=i.n(l),d=i("mwIZ"),p=i.n(d),h=i("D1y2"),g=i.n(h),m=i("JZM8"),v=i.n(m),f=i("lO2t");function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function k(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){s()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}r.a,r.a,u.a,p.a,g.a,v.a;var b=r.a,S=c.a,w=u.a,D=p.a,P=g.a,C=v.a;function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.parse(JSON.stringify(e))}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S(e,t,(function(e,t){if(Array.isArray(e))return e.concat(t)}))}function L(e,t){return e===t?{}:f.a.isObject(e)&&f.a.isObject(t)?f.a.isDate(e)||f.a.isDate(t)?e.valueOf()===t.valueOf()?{}:t:Object.keys(t).reduce((function(i,n){if(!O(e,n))return k(k({},i),{},s()({},n,t[n]));if(f.a.isArray(t[n])){var a=_(e[n],t[n]);return Object.keys(a).length>0?k(k({},i),{},s()({},n,t[n])):i}if(f.a.isObject(t[n])){var r=L(e[n],t[n]);return!f.a.isObject(r)||Object.keys(r).length>0?k(k({},i),{},s()({},n,r)):i}return e[n]!==t[n]?k(k({},i),{},s()({},n,t[n])):i}),{}):t}function _(e,t){if(e===t)return[];if(!f.a.isArray(e)||!f.a.isArray(t))return t;if(e.length<=0&&t.length<=0)return[];if(e.length!==t.length)return t;if(!f.a.isObject(t[0]))return t.filter((function(t){return!e.includes(t)}));var i=[];return t.forEach((function(n,s){var a=L(e[s],t[s]);Object.keys(a).length>0&&i.push(t[s])})),i}},ozXD:function(e,t){e.exports='{% block vis_logs %}\n    <sw-page>\n        <sw-card-view slot="content">\n            <sw-card>\n                <sw-tabs defaultItem="visLogs">\n                    <template slot-scope="{ active }">\n                        <sw-tabs-item :activeTab="active" name="visLogs" :title="$tc(\'vis-log.tabs.visLogTab\')">\n                            {{ $tc(\'vis-log.tabs.visLogTab\') }}\n                        </sw-tabs-item>\n                        <sw-tabs-item :activeTab="active" name="soldPerDayTab" :title="$tc(\'vis-log.tabs.soldPerDayTab\')">\n                            {{ $tc(\'vis-log.tabs.soldPerDayTab\') }}\n                        </sw-tabs-item>\n\n                        <sw-tabs-item :activeTab="active" name="soldClickedFromVisualSearch" :title="$tc(\'vis-log.tabs.soldClickedFromVisualSearch\')">\n                            {{ $tc(\'vis-log.tabs.soldClickedFromVisualSearch\') }}\n                        </sw-tabs-item>\n\n                    </template>\n\n                    <template slot="content" slot-scope="{ active }">\n                        <sw-container v-if="active === \'visLogs\'">\n                            <sw-entity-listing :columns="visLogColumns"\n                                               :fullPage="false"\n                                               :items="logData"\n                                               :repository="logRepository">\n                                <template slot="column-createdAt" slot-scope="{ item }">\n                                    {{ item.createdAt | date({ hour: \'2-digit\', minute: \'2-digit\' }) }}\n                                </template>\n                            </sw-entity-listing>\n                        </sw-container>\n\n                        <sw-container v-if="active === \'soldPerDayTab\'">\n                            <sw-datepicker\n                                size="medium"\n                                v-model="soldPerDayDate">\n                            </sw-datepicker>\n\n                            <sw-entity-listing :columns="soldPerDayColumns"\n                                               :fullPage="false"\n                                               :items="soldPerDayResult"\n                                               :repository="orderRepository">\n                                <template slot="column-orderDateTime" slot-scope="{ item }">\n                                    {{ item.orderDateTime | date({ hour: \'2-digit\', minute: \'2-digit\' }) }}\n                                </template>\n                            </sw-entity-listing>\n\n                            <sw-button :disabled="false"  @click="getOrders">\n                                {{ $tc(\'vis-log.orderColumns.getVisualSearchStatistic\') }}\n                            </sw-button>\n\n                        </sw-container>\n\n                        <sw-container v-if="active === \'soldClickedFromVisualSearch\'">\n                            <sw-datepicker\n                                size="medium"\n                                v-model="visSoldClickedProductsDate">\n                            </sw-datepicker>\n\n                            <sw-entity-listing :columns="visSoldClickedPerDayColumns"\n                                               :fullPage="false"\n                                               :items="visSoldClickedProductsResult"\n                                               :repository="visSoldClickedRepository">\n                                <template slot="column-date" slot-scope="{ item }">\n                                    {{ item.date | date() }}\n                                </template>\n\n                            </sw-entity-listing>\n\n                            <sw-button :disabled="false"  @click="getVisSoldClickedProducts">\n                                {{ $tc(\'vis-log.visSoldClickedPerDayColumns.getVisualSearchStatistic\') }}\n                            </sw-button>\n\n                        </sw-container>\n\n                    </template>\n                </sw-tabs>\n            </sw-card>\n        </sw-card-view>\n    </sw-page>\n\n{% endblock %}\n\n\n'},pAdO:function(e,t,i){"use strict";i.r(t);var n=i("SwLI");class s extends n.default{constructor(e,t,i=""){super(e,t,i)}verifyKey(){const e=this.getApiBasePath()+"/vis/sim/api_key_verify";return this.httpClient.post(e,{},{headers:this.getBasicHeaders()}).then(e=>e)}}var a=s;const{Application:r}=Shopware;r.addServiceProvider("ApiKeyVerifyService",e=>{const t=r.getContainer("init");return new a(t.httpClient,e.loginService)});i("9/SL");var o=i("vjLC"),c=i.n(o);const{Component:l}=Shopware;l.register("vis-get-credentials",{template:c.a});i("kRqn");var u=i("fNE8"),d=i.n(u);const{Component:p}=Shopware;p.register("vis-support",{template:d.a});var h=i("E50F"),g=i.n(h);const{Component:m,Mixin:v}=Shopware;m.register("vis-verify-api-key",{template:g.a,mixins:[v.getByName("notification")],inject:["ApiKeyVerifyService"],data:()=>({isLoading:!1}),methods:{async check(){this.isLoading=!0,await this.ApiKeyVerifyService.verifyKey().then(e=>{1==e.data.success?this.createNotificationSuccess({title:"VisualSearch",message:this.$tc("vis-verify-api-key.success")}):this.createNotificationError({title:"VisualSearch",message:this.$tc("vis-verify-api-key.error")})}).catch(e=>{}),this.isLoading=!1}}});var f=i("Ts6U"),y=i.n(f);const{Component:k}=Shopware;k.override("sw-settings-index",{template:y.a});var b=i("ozXD"),S=i.n(b);const{Component:w,Mixin:D}=Shopware,{Criteria:P}=Shopware.Data,{createId:C}=Shopware.Utils;w.register("vis-log",{template:S.a,name:"visLog",inject:["repositoryFactory"],mixins:[D.getByName("notification")],created(){this.createdComponent()},data:()=>({isLoading:!1,logData:[],total:0,limit:10,page:1,sortBy:"s_plugin_vis_log.createdAt",sortDirection:"DESC",soldPerDayResult:[],soldPerDayResultTotal:0,soldPerDayDate:null,visClickedProductsResult:[],visClickedProductsTotal:0,visClickedProductsDate:null,visSoldProductsResult:[],visSoldProductsTotal:0,visSoldProductsDate:null,visSoldClickedProductsResult:[],visSoldClickedProductsTotal:0,visSoldClickedProductsDate:null}),computed:{logRepository(){return this.repositoryFactory.create("s_plugin_vis_log")},orderRepository(){return this.repositoryFactory.create("order")},visClickedRepository(){return this.repositoryFactory.create("s_plugin_vis_clicked_products")},visSoldRepository(){return this.repositoryFactory.create("s_plugin_vis_sold_products")},visSoldClickedRepository(){return this.repositoryFactory.create("s_plugin_vis_sold_clicked_products")},visLogColumns:()=>[{property:"createdAt",dataIndex:"createdAt",label:"vis-log.created",inlineEdit:"date",allowResize:!0,primary:!0},{property:"message",dataIndex:"message",label:"vis-log.message",allowResize:!0}],soldPerDayColumns:()=>[{property:"orderNumber",label:"sw-customer.detailOrder.columnNumber",align:"center"},{property:"stateMachineState.name",label:"sw-customer.detailOrder.columnOrderState"},{property:"orderDateTime",label:"sw-customer.detailOrder.columnOrderDate",align:"center"},{property:"amountTotal",label:"sw-customer.detailOrder.columnAmount",align:"right"}],visClickedPerDayColumns:()=>[{property:"product.name",label:"vis-log.visClickedPerDayColumns.productName",align:"center"},{property:"numberClick",label:"vis-log.visClickedPerDayColumns.numberClicks"},{property:"date",label:"vis-log.visClickedPerDayColumns.date",align:"center"}],visSoldPerDayColumns:()=>[{property:"product.name",label:"vis-log.visSoldPerDayColumns.productName",align:"center"},{property:"customer.firstName",dataIndex:"customer.lastName,customer.firstName",label:"vis-log.visSoldPerDayColumns.customerName",align:"left"},{property:"date",label:"vis-log.visSoldPerDayColumns.date",align:"center"}],visSoldClickedPerDayColumns:()=>[{property:"numberClick",label:"vis-log.visSoldClickedPerDayColumns.numberClicks"},{property:"date",label:"vis-log.visSoldClickedPerDayColumns.date",align:"center"}]},methods:{createdComponent(){this.isLoading=!0;const e=new P(this.page,this.limit);this.logRepository.search(e,Shopware.Context.api).then(e=>{this.logData=e,this.total=e.total,this.isLoading=!1}).catch(()=>{this.isLoading=!1})},getOrders(){this.isLoading=!0;const e=new P(this.page,this.limit);this.soldPerDayDate&&e.addFilter(P.multi("AND",[P.range("orderDateTime",{gte:this.formatDate(new Date(this.soldPerDayDate),-1)}),P.range("orderDateTime",{lte:this.formatDate(new Date(this.soldPerDayDate),1)})])),this.orderRepository.search(e,Shopware.Context.api).then(e=>{this.soldPerDayResult=e,this.soldPerDayResultTotal=e.total,this.isLoading=!1}).catch(()=>{this.isLoading=!1})},getVisClickedProducts(){this.isLoading=!0;const e=new P(this.page,this.limit);e.addAssociation("product"),this.visClickedProductsDate&&e.addFilter(P.multi("AND",[P.range("date",{gte:this.formatDate(new Date(this.visClickedProductsDate),-1)}),P.range("date",{lte:this.formatDate(new Date(this.visClickedProductsDate),1)})])),this.visClickedRepository.search(e,Shopware.Context.api).then(e=>{this.visClickedProductsResult=e,this.visClickedProductsTotal=e.total,this.isLoading=!1}).catch(()=>{this.isLoading=!1})},getVisSoldProducts(){this.isLoading=!0;const e=new P(this.page,this.limit);e.addAssociation("product"),e.addAssociation("customer"),this.visSoldProductsDate&&e.addFilter(P.multi("AND",[P.range("date",{gte:this.formatDate(new Date(this.visSoldProductsDate),-1)}),P.range("date",{lte:this.formatDate(new Date(this.visSoldProductsDate),1)})])),this.visSoldRepository.search(e,Shopware.Context.api).then(e=>{this.visSoldProductsResult=e,this.visSoldProductsTotal=e.total,this.isLoading=!1}).catch(()=>{this.isLoading=!1})},getVisSoldClickedProducts(){this.isLoading=!0;const e=new P(this.page,this.limit);this.visSoldClickedProductsDate&&e.addFilter(P.multi("AND",[P.range("date",{gte:this.formatDate(new Date(this.visSoldClickedProductsDate),-1)}),P.range("date",{lte:this.formatDate(new Date(this.visSoldClickedProductsDate),1)})])),this.visSoldClickedRepository.search(e,Shopware.Context.api).then(e=>{this.visSoldClickedProductsResult=e,this.visSoldClickedProductsTotal=e.total,this.isLoading=!1}).catch(()=>{this.isLoading=!1})},formatDate:(e,t)=>`${e.getFullYear()}-${("0"+(e.getMonth()+1)).slice(-2)}-${("0"+(e.getDate()+t)).slice(-2)}`}});var O=i("JPr/"),j=i("pIQn");const{Module:A}=Shopware;A.register("vis-log",{type:"plugin",name:"visLog",title:"vis-log.title",description:"vis-log.title",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"default-device-server",snippets:{"de-DE":j,"en-GB":O},routes:{index:{component:"vis-log",path:"index"}}}),Shopware.Locale.extend("de-DE",j),Shopware.Locale.extend("en-GB",O)},pIQn:function(e){e.exports=JSON.parse('{"vis-get-credentials":{"title":"Klicken Sie bitte hier, um Ihre API-Zugangsdaten zu erhalten"},"vis-verify-api-key":{"success":"Die Verbindung wurde erfolgreich hergestellt.","error":"Verbindung konnte nicht hergestellt werden. Überprüfen Sie bitte Ihre API-Zugangsdaten.","apiButton":"API-Zugangsdaten testen"},"vis-support":{"documentation":"Dokumentation","api_documentation":"API Dokumentation","read_docs":"Lesen Sie in unserem Dokumentationen mehr über VisualSearch und wie Sie mit uns starten können","manual":"Anleitung","changelog":"Änderungsprotokoll","faq":"FAQ","for_developers":"Für Entwickler","account":"Account","e-mail":"E-Mail","telephone":"Telefon","contact":"Kontakt","visualsearch_assistance_integration_team":"Sie brauchen Hilfe? Kontaktieren Sie unser Integrations-Team:"},"vis-log":{"title":"VisualSearch Logging","backButton":"Zurück","message":"Nachricht","created":"Datum","tabs":{"visLogTab":"Aktualisierungen","soldPerDayTab":"Bestellungen","soldFromVisualSearch":"VisualSearch verkaufte Produkte","clickedFromVisualSearch":"VisualSearch angeklickte Produkte","soldClickedFromVisualSearch":"Klicks"},"orderColumns":{"getVisualSearchStatistic":"Statistik aktualisieren"},"visClickedPerDayColumns":{"productName":"Produktname","numberClicks":"Anzahl Klicks","date":"Datum"},"visSoldPerDayColumns":{"productName":"Produktname","customerName":"Kundenname","date":"Datum"},"visSoldClickedPerDayColumns":{"productName":"Produktname","customerName":"Kundenname","numberClicks":"Anzahl Klicks","numberSold":"Anzahl verkauft","date":"Datum","totalSold":"Insgesamt verkauft","getVisualSearchStatistic":"Statistik aktualisieren"}}}')},vjLC:function(e,t){e.exports='<template>\n    <div id="visualsearch-get-credentials">\n        <p class="gc-1">\n        <a href="https://www.visualsearch.at/index.php/credentials" target="_blank" rel="noopener">\n            {{ $tc("vis-get-credentials.title") }}\n        </a>\n        </p>\n    </div>\n</template>\n'}},[["pAdO","runtime","vendors-node"]]]);